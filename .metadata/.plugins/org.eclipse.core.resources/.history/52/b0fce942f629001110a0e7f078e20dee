package cste.android.hnad;

import com.android.future.usb.UsbAccessory;
import com.android.future.usb.UsbManager;

import android.app.Activity;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.Bundle;
import android.os.IBinder;
import android.widget.Toast;

public class LauncherActivity extends Activity {
	static final String TAG = "Launcher";
	private HnadCoreService mBoundService;
	private mIsBound;
	
	private ServiceConnection mConnection = new ServiceConnection() {
		public void onServiceConnected(ComponentName className, IBinder service) {
			mBoundService = ((HnadCoreService.LocalBinder)service).getService();
		}
		
		public void onServiceDisconnected(ComponentName className) {
			mBoundService = null;
		}
	};
	
	void doBindService() {
		bindService(new Intent(this,HnadCoreService.class), mConnection, Context.BIND_AUTO_CREATE);    
		mIsBound = true;
	}
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		
		Intent usbIntent = getIntent();
		UsbAccessory accessory = UsbManager.getAccessory(usbIntent);

		
		Toast toast = Toast.makeText(getApplicationContext(), "Launcher called", Toast.LENGTH_SHORT);
        toast.show();
        
		startService(new Intent(this,HnadCoreService.class));
		finish();
	}
}
